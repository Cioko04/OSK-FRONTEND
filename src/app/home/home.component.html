<nav class="navbar navbar-expand-lg bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand">
      <app-logo></app-logo>
    </a>
    <form class="d-flex me-4" role="search">
      <div class="input-group mb-3 search-form">
        <button type="button" class="btn-search btn-md btn btn-dark">
          <i class="fa fa-search" aria-hidden="true"></i>
        </button>
        <input
          class="form-control search"
          type="search"
          placeholder="Wyszukaj..."
          aria-label="Search"
        />
      </div>
    </form>
    <div class="btn-group" ngbDropdown>
      <div class="input-group input-group-lg">
        <button type="button" class="btn btn-dark ps-0 pt-0" ngbDropdownToggle>
          <img
            src="../../../assets/img_avatar.png"
            alt="Avatar"
            class="avatar me-1"
          />
          {{ user?.name }}
        </button>
      </div>
      <ul
        class="dropdown-menu dropdown-menu-dark dropdown-menu-end dropdown-min-width"
        ngbDropdownMenu
      >
        <li>
          <button
            class="btn btn-drop-down"
            type="button"
            (click)="openProfile(content)"
            ngbDropdownItem
          >
            Profil
          </button>
          <button
            *ngIf="user.role === 'OSK_ADMIN'"
            class="btn btn-drop-down"
            type="button"
            (click)="openSchool(content)"
            ngbDropdownItem
          >
            Zarządzaj szkołą
          </button>
        </li>
        <li><hr class="dropdown-divider mx-2" /></li>
        <li>
          <button class="btn btn-drop-down" ngbDropdownItem (click)="logout()">
            Wyloguj
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>
<app-menu-nav></app-menu-nav>
<router-outlet></router-outlet>
<ng-template #content let-offcanvas>
  <app-user-profile
    *ngIf="shouldOpenProfile == true; else openSchool"
    (eventBack)="offcanvas.close($event)"
    [user]="user"
  ></app-user-profile>
  <ng-template #openSchool>
    <app-school-profile
      (eventBack)="offcanvas.close($event)"
      [school]="user.schoolRequest"
    ></app-school-profile>
  </ng-template>
</ng-template>
